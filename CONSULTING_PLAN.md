# План улучшения процессов и UX WinNetConfigurator

## 1. Пользовательские сценарии и роли
- **Роли:** оператор (назначает адреса, ведёт учёт), старший оператор (подтверждает исключения, разрешает конфликты), администратор (управляет политиками и резервами), аудитор (просматривает журнал изменений).
- **Назначение IP:** пошаговый мастер с проверкой принадлежности к кабинету, указанием причины и требуемых атрибутов; подсказки о лимитах, автоматическая проверка конфликтов до сохранения.
- **Инвентаризация:** режим обхода с последовательной фиксацией машин и параметров, быстрые шаблоны для типовых кабинетов, возможность пометить устройства как отсутствующие или требующие проверки.
- **Экспорт:** выбор диапазона данных (по локациям, датам, статусам), предварительный просмотр, указание ответственного лица и формата отчёта.
- **Ошибки и исключения:** отдельная панель с уведомлениями о нарушении лимитов, несогласованности данных, просроченных проверках; маршрутизация к старшему оператору.
- **Доступность данных:** каждый видит только свои черновики и утверждённые записи, аудиторы получают режим только чтение с фильтрами, администратор видит все записи и настройки.

## 2. UX и отзывчивость
- **Асинхронные операции:** длительные задачи (импорт, объединение) выполняются в фоне с блоком состояния и индикатором прогресса.
- **Очередь задач:** пользователю доступен список активных операций с возможностью отмены до этапа фиксации.
- **Валидация:** мгновенная проверка форм при вводе, выделение обязательных полей, текстовые подсказки.
- **Предотвращение потерь:** автоматическое сохранение черновиков и напоминание о несохранённых изменениях при закрытии.
- **Уведомления:** единая панель уведомлений с группировкой по задачам, звуковые/визуальные сигналы только для критичных событий.

## 3. Политика IP
- **Правила подбора:** автоматический поиск свободных адресов с учётом активных и зарезервированных записей, предупреждение о потенциально занятых адресах.
- **Предположительно занятые:** маркировка с указанием источника информации (скан, ручной ввод), требующая ручного подтверждения перед выдачей.
- **Настраиваемые лимиты:** гибкое ограничение количества адресов на кабинет, включая подпулы и исключения, управляемые администратором.
- **Резервируемые диапазоны:** ведение списков недоступных адресов с пояснениями, отображение в интерфейсе при выборе IP.
- **Подтверждение:** финальный шаг с перечислением всех факторов риска (лимит, конфликт, резерв), требующий явного согласия старшего оператора.

## 4. Работа несколькими операторами
- **Идентификация источника:** каждая запись содержит уникальный идентификатор оператора и носителя, а также отметку времени создания и изменения.
- **Модель синхронизации:** обмен пакетами данных в формате «добавлено/изменено/удалено» с журналом операций и неизменяемыми записями аудита.
- **Правила консолидации:** при совпадении уникальных ключей используется политика «старшее изменение выигрывает» с возможностью ручного выбора и сохранением обеих версий в журнале.
- **Снимок занятости:** лёгкий файл с агрегированными данными по кабинетам и статусам адресов для оперативной проверки в поле.
- **Контроль целостности:** перед объединением выполняется симуляция конфликтов и предоставляется отчёт для решения старшим оператором.

## 5. Редактирование записей
- **Связности:** обязательная связка кабинет → машина → IP, с проверкой уникальности комбинации и наличия всех обязательных атрибутов (кабинет, тип устройства, MAC/серийный номер, статус).
- **Подтверждения:** при разрыве связей или переносе устройства в другой кабинет требуется подтверждение с указанием причины.
- **История изменений:** журнал по каждой сущности с указанием автора, времени и старых/новых значений.
- **Откат:** возможность вернуть запись к любому предыдущему состоянию до утверждения; после утверждения — только через процесс запроса изменения.
- **Правила обязательности:** минимальный набор полей зависит от типа устройства, отображается прямо в форме.

## 6. Надёжность и контроль
- **Логирование:** подробные записи всех действий пользователя и системных событий с уровнями критичности.
- **Журнал аудита:** отдельный неизменяемый реестр утверждённых операций с фильтрацией по ролям и датам.
- **Резервное копирование:** автоматическое создание копий на носителе перед синхронизацией и по расписанию.
- **Восстановление:** пошаговый мастер восстановления из резервов с проверкой целостности.
- **Экспорт/импорт:** контролируемые процедуры с валидацией структуры, подсчётами изменений и журналированием.
- **Защита от дубликатов:** проверка ключевых полей при вводе и объединении, выявление потенциальных дублей с предложением объединить.

## 7. Диагностика и инвентаризация
- **Сравнение с эталоном:** регулярное сопоставление фактической конфигурации с утверждёнными шаблонами для каждого кабинета.
- **Отчёты о расхождениях:** визуальные карточки с приоритетом и рекомендациями по исправлению (например, заменить, переназначить, проверить).
- **Полевой режим:** чек-листы для обхода с отметками «проверено», «не найдено», «заменить», «требует согласования».
- **История проверок:** хранение результатов инвентаризаций с датами и ответственными.
- **Уведомления:** автоматические напоминания о просроченных или предстоящих проверках кабинетов.

## 8. Настройки и политики
- **Хранилище политик:** централизованный конфигурационный пакет с версиями, распространяемый вместе с обновлениями данных.
- **Применение:** настройки применяются при старте, изменения требуют подтверждения администратора и фиксируются в журнале.
- **Безопасное переключение:** перед включением чувствительных опций выполняется предварительная проверка и сохранение текущей конфигурации для отката.
- **Согласование:** изменение ключевых параметров (лимиты, диапазоны) проводится через процесс утверждения с уведомлением операторов.
- **Синхронизация:** при объединении данные о политиках сверяются, расхождения решаются до начала консолидации рабочих записей.

## 9. Безопасность и доступ
- **Минимальные права:** приложение запрашивает повышенные права только при операциях, требующих системных изменений.
- **Разделение обязанностей:** назначение адресов и утверждение исключений выполняют разные роли.
- **Защита данных:** персональные и служебные сведения шифруются на носителях, доступ — по аутентификации с журналированием входов.
- **Контроль доступа:** роль основана на принципе минимально необходимого набора операций, каждый видит только доступные ему разделы.
- **Политика блокировок:** автоматический выход при простое, ручная блокировка сессии.

## 10. Метрики и критерии готовности
- **Эффективность:** среднее время назначения IP от запуска мастера до утверждения, доля операций, уложившихся в целевой порог.
- **Качество данных:** процент записей без конфликтов после объединения, количество обнаруженных дубликатов.
- **Удобство:** оценка операторов по шкале удовлетворённости, число отменённых операций из-за неудобства интерфейса.
- **Надёжность:** доля успешных резервных копий и восстановлений, отсутствие потери данных при синхронизации.
- **Диагностика:** процент кабинетов с актуальной инвентаризацией, скорость обработки отчётов о расхождениях.

## 11. План внедрения по этапам
- **Этап 1 — аудит текущих процессов:** сбор требований от ролей, фиксация сценариев, определение метрик.
- **Этап 2 — UX и политика данных:** прототипирование новых мастеров и форм, разработка правил IP и лимитов, тестирование на выборке.
- **Этап 3 — синхронизация и аудит:** внедрение модели идентификаторов, журналов, резервного копирования, пилотная консолидация.
- **Этап 4 — диагностика и отчётность:** реализация сравнений с эталоном, улучшения экспорта, настройка напоминаний.
- **Этап 5 — масштабирование:** финальные правки по безопасности, обучение, документирование, запуск контрольных метрик.

---

### Консолидированный чек-лист
- **Сделать сейчас:** провести интервью с ролями, описать пользовательские потоки, утвердить метрики и лимиты; подготовить макеты мастеров назначения и инвентаризации.
- **Далее:** реализовать фоновые операции и очереди задач, настроить политику IP и синхронизацию, создать журналы аудита и резервное копирование.
- **Потом:** внедрить расширенную диагностику, автоматические отчёты и напоминания, регулярный контроль метрик и программу улучшений.

### Риски и меры
- **Несогласованность данных:** минимизировать через предварительную симуляцию конфликтов и строгие идентификаторы источников.
- **Сопротивление операторов:** уменьшить за счёт обучения, понятных интерфейсов и постепенного запуска.
- **Потеря данных:** снижать регулярным резервированием и контролем восстановления.
- **Перегрузка интерфейса:** устранять итерациями UX-тестирования и упрощением форм.
- **Нарушение безопасности:** предотвращать политиками доступа, журналированием и проверкой носителей.
